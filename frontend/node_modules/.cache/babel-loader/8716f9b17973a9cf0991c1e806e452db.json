{"ast":null,"code":"var _jsxFileName = \"/home/gilberto/ENGSOFT/Web2/src/pages/Login.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport './stylesLogin.css';\nexport default class Login extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      usuarios: [],\n      login: \"\",\n      senha: \"\",\n      loginC: \"\",\n      senhaC: \"\",\n      confirmarSenha: \"\",\n      erroLogin: \"\",\n      erroCad: \"\"\n    };\n\n    this.cliqueLogin = async e => {\n      e.preventDefault();\n      const {\n        login,\n        senha\n      } = this.state;\n      console.log(login);\n      console.log(senha);\n\n      if (!login || !senha) {\n        this.setState({\n          erro: \"Preencha todos os dados para logar\"\n        });\n      } else {\n        try {\n          await axios.post(`https://localhost:3333`, {\n            email: login,\n            password: senha\n          }, {\n            crossDomain: true\n          }).then(result => {\n            if (result.request.status === 200) {\n              localStorage.setItem('tokenLogin', result.data.token);\n              this.props.history.push(\"/buscaCep\");\n            } else {\n              this.state.setState({\n                erro: \"Usuário ou senha incorreto\"\n              });\n            }\n          });\n        } catch (err) {\n          this.setState({\n            erro: \"Houve um problema com o login, verifique suas credenciais. T.T\"\n          });\n        }\n      }\n    };\n\n    this.cliqueCadastro = async e => {\n      e.preventDefault();\n      const {\n        loginC,\n        senhaC,\n        confirmarSenha\n      } = this.state;\n\n      if (senhaC === confirmarSenha) {\n        if (!loginC || !senhaC) {\n          this.setState({\n            erroCad: \"Preencha todos os dados para se cadastrar\"\n          });\n        } else {\n          try {\n            await axios.post(`http://localhost:3333/users`, {\n              email: loginC,\n              password: senhaC\n            }, {\n              crossDomain: true\n            }).then(result => {\n              console.log(result);\n\n              if (result.request.status === 200) {\n                this.state.setState({\n                  erro: \"Usuário cadastrado, efetue o login\"\n                });\n              } else this.state.setState({\n                erro: \"Ocorreu um erro ao cadastrar usuário\"\n              });\n            });\n          } catch (err) {\n            this.setState({\n              erroCad: \"Houve um problema com o login, verifique suas credenciais. T.T\"\n            });\n          }\n        }\n      } else {\n        this.setState({\n          erroCad: \"Login e senha não conferem\"\n        });\n      }\n    };\n  }\n\n  render() {\n    localStorage.setItem('tokenLogin', \"\");\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      id: \"fmLogin\",\n      class: \"container\",\n      onSubmit: this.cliqueLogin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      class: \"form-control\",\n      type: \"text\",\n      name: \"login\",\n      placeholder: \"Login\",\n      value: this.state.login,\n      onChange: e => this.setState({\n        login: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      class: \"form-control\",\n      type: \"password\",\n      name: \"senha\",\n      placeholder: \"Senha\",\n      value: this.state.senha,\n      onChange: e => this.setState({\n        senha: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      value: this.state.erro,\n      className: \"mensagemUsuario\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 29\n      }\n    }, this.state.erro), /*#__PURE__*/React.createElement(\"button\", {\n      class: \"btn btn-outline-primary\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 29\n      }\n    }, \"Logar\"))), /*#__PURE__*/React.createElement(\"form\", {\n      id: \"fmLogin\",\n      class: \"container\",\n      onSubmit: this.cliqueCadastro,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      class: \"form-control\",\n      type: \"text\",\n      name: \"login\",\n      placeholder: \"Login\",\n      value: this.state.loginC,\n      onChange: e => this.setState({\n        loginC: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      class: \"form-control\",\n      type: \"password\",\n      name: \"senha\",\n      placeholder: \"Senha\",\n      value: this.state.senhaC,\n      onChange: e => this.setState({\n        senhaC: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      class: \"form-control\",\n      type: \"password\",\n      name: \"senha\",\n      placeholder: \"Senha\",\n      value: this.state.confirmarSenha,\n      onChange: e => this.setState({\n        confirmarSenha: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"mensagemUsuario\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 25\n      }\n    }, this.state.erroCad), /*#__PURE__*/React.createElement(\"button\", {\n      class: \"btn btn-outline-secondary\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 25\n      }\n    }, \"Cadastrar\"))));\n  }\n\n}","map":{"version":3,"sources":["/home/gilberto/ENGSOFT/Web2/src/pages/Login.js"],"names":["React","axios","Login","Component","state","usuarios","login","senha","loginC","senhaC","confirmarSenha","erroLogin","erroCad","cliqueLogin","e","preventDefault","console","log","setState","erro","post","email","password","crossDomain","then","result","request","status","localStorage","setItem","data","token","props","history","push","err","cliqueCadastro","render","target","value"],"mappings":"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","sourcesContent":["import React from 'react'\nimport axios from 'axios'\nimport './stylesLogin.css'\n\nexport default class Login extends React.Component {\n\n    state = {\n        usuarios: [],\n        login: \"\",\n        senha: \"\",\n        loginC: \"\",\n        senhaC: \"\",\n        confirmarSenha: \"\",\n        erroLogin: \"\",\n        erroCad: \"\"\n    };\n\n    \n    cliqueLogin = async e => {\n\n        e.preventDefault();\n        const { login, senha } = this.state;\n\n        console.log(login)\n        console.log(senha)\n        if (!login || !senha) {\n            this.setState({ erro: \"Preencha todos os dados para logar\" });\n        } else {\n            try {\n                await axios.post(`https://localhost:3333`, {\n                    email: login,\n                    password: senha\n                }, {\n                    crossDomain: true\n                }).then(result => {\n                    if (result.request.status === 200){\n                        localStorage.setItem('tokenLogin', result.data.token)\n                        this.props.history.push(\"/buscaCep\")\n                    }\n                    else {\n                        this.state.setState({erro: \"Usuário ou senha incorreto\"})\n                    }  \n                })\n\n            } catch (err) {\n                this.setState({\n                    erro:\n                        \"Houve um problema com o login, verifique suas credenciais. T.T\"\n                });\n            }\n        }\n\n    }\n\n    cliqueCadastro = async e => {\n        e.preventDefault();\n        const { loginC, senhaC, confirmarSenha } = this.state;\n\n        if(senhaC === confirmarSenha) {\n            if (!loginC || !senhaC) {\n                this.setState({ erroCad: \"Preencha todos os dados para se cadastrar\" });\n            } else {\n                try {\n                    await axios.post(`http://localhost:3333/users`, {\n                        email: loginC,\n                        password: senhaC\n                    }, {\n                        crossDomain: true\n                    }).then(result => {\n                        console.log(result)\n                        if (result.request.status === 200){\n                            this.state.setState({erro: \"Usuário cadastrado, efetue o login\"})\n                        }\n                        else (\n                            this.state.setState({erro: \"Ocorreu um erro ao cadastrar usuário\"})\n                        )\n                    })\n    \n                } catch (err) {\n                    this.setState({\n                        erroCad:\n                            \"Houve um problema com o login, verifique suas credenciais. T.T\"\n                    });\n                }\n            }\n        } else {\n            this.setState({ erroCad: \"Login e senha não conferem\"});\n        }\n    }\n\n    render() {\n        localStorage.setItem('tokenLogin', \"\");\n        return (\n            <>\n                <div>\n                    <form id=\"fmLogin\" class=\"container\" onSubmit={this.cliqueLogin}>\n                        <div>\n                            <input class=\"form-control\" type=\"text\" name=\"login\" placeholder=\"Login\" value={this.state.login} onChange={e => this.setState({ login: e.target.value })} />\n                            <input class=\"form-control\" type=\"password\" name=\"senha\" placeholder=\"Senha\" value={this.state.senha} onChange={e => this.setState({ senha: e.target.value })} />\n                            <span value={this.state.erro} className=\"mensagemUsuario\">{this.state.erro}</span>\n                            <button class=\"btn btn-outline-primary\" type=\"submit\">Logar</button>\n                        </div>\n                    </form>\n\n                    <form id=\"fmLogin\" class=\"container\" onSubmit={this.cliqueCadastro}>\n                        <input class=\"form-control\" type=\"text\" name=\"login\" placeholder=\"Login\" value={this.state.loginC} onChange={e => this.setState({ loginC: e.target.value })} />\n                        <input class=\"form-control\" type=\"password\" name=\"senha\" placeholder=\"Senha\" value={this.state.senhaC} onChange={e => this.setState({ senhaC: e.target.value })} />\n                        <input class=\"form-control\" type=\"password\" name=\"senha\" placeholder=\"Senha\" value={this.state.confirmarSenha} onChange={e => this.setState({ confirmarSenha: e.target.value })} />\n                        <span className=\"mensagemUsuario\">{this.state.erroCad}</span>\n                        <button  class=\"btn btn-outline-secondary\" type=\"submit\">Cadastrar</button>\n                    </form>\n                </div>\n            </>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}